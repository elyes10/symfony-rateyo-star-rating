{% extends 'base1.html.twig' %}

{% block title %}Cinemas{% endblock %}
{% block body %}
    <body>

    <div id="site-content">

        <main class="main-content">
            <div >
                <h1 style="margin-left: 20px;margin-bottom: -30px;color: white;font-family: 'Rockwell Extra Bold';font-size: 48px" >La liste des Cinemas </h1>
                <div style="display: flex; width: 19rem; margin: 30px ;margin-top: 80px">
                    {% for r in cinemas %}
                        <div class="card" style="width: 500px;margin: 20px">


                            <img class="card-img-top" height="50%" width="250px" src="{{ asset('cinema.jpg') }}" alt="Card image cap">
                            <div class="card-body" style="justify-content: center;color: white">
                                <h3 class="card-title"><strong style="color: darkred">Nom: &nbsp;&nbsp;&nbsp;&nbsp;</strong>  {{ r.nom }}</h3>
                                <h3 class="card-text"><strong style="color: darkred">Adresse: &nbsp;&nbsp;&nbsp;&nbsp;</strong>   {{ r.adresse }}</h3>
                                <h3 class="card-text"><strong style="color: darkred">Nombre de places: &nbsp;&nbsp;&nbsp;&nbsp;</strong>   {{ r.nbreP }}</h3>





                            </div>
                            <div>
                                <form action="add_rate" method="get">



                                <div>

                                    <input hidden type="number" name="cinid" value={{ r.idCin }}>
                                </div>

                                <div class="rateyo" id= "rating"
                                     data-rateyo-rating="4"
                                     data-rateyo-num-stars="5"
                                     data-rateyo-score="3"
                                style="background-color: darkred"
                                >
                                </div>

                                <span class='result' style="color: darkred;font-size: 24px">0</span>
                                <input type="hidden" name="rating">


<div style="margin-left: 50px">
                                    <button type="submit" class="btn btn-primary" style="color: white; background-color: darkred"> Rate</button>
</div>
                            </form>
                            </div>
                        </div>


                    {% endfor %}
                </div>

            </div>
        </main>
    </div>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.2/jquery.rateyo.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.3.2/jquery.rateyo.min.js"></script>
    <script>


        $(function () {
            $(".rateyo").rateYo().on("rateyo.change", function (e, data) {
                var rating = data.rating;
                $(this).parent().find('.score').text('score :'+ $(this).attr('data-rateyo-score'));
                $(this).parent().find('.result').text('rating :'+ rating);
                $(this).parent().find('input[name=rating]').val(rating); //add rating value to input field
            });
        });

    </script>
    </body>
{% endblock %}